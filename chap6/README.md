# chap6 - 有 $ 的函数调用、lambda、函数组合

## $ 的作用

在 Haskell 中，`$`符号用作函数应用的操作符，其主要用途是减少代码中括号的使用，从而使表达式更加清晰。
`$`操作符的类型签名是 `(a -> b) -> a -> b`，意味着它接受一个函数和一个该函数的参数，然后应用该函数到这个参数上。
它的优先级非常低，只有 0，因此几乎所有其他操作都会先于它执行。

使用`$`的好处之一是它可以让你避免编写很多括号。
例如，如果没有`$`，你可能需要编写像`(f (g (h x)))`这样的表达式，
使用`$`后可以简化为`f $ g $ h x`。
在这个表达式中，`$`使得我们可以省略围绕`g (h x)`的括号，
因为`$`告诉 Haskell 先计算`h x`，然后将结果作为参数传递给`g`，最后将`g`的结果作为参数传递给`f`。

这种用法不仅使代码更加简洁，而且提高了可读性，尤其是在处理多个函数组合时非常有用。
简而言之，`$`是函数应用的另一种形式，允许你以更少的括号写出同样的逻辑。

## lambda

在 Haskell 中，将 lambda 表达式`\x y -> x + y`转换成一个等价的函数定义非常直接。
我们可以给这个函数一个名字，比如`add`，然后使用标准的函数定义语法来重写它。等价的函数定义如下：

```haskell
add x y = x + y
```

这里，我们定义了一个名为`add`的函数，它接受两个参数`x`和`y`，并返回它们的和。
这个函数定义与原始的 lambda 表达式在功能上是完全等同的，只是写法上更符合 Haskell 的函数定义习惯。

## lambda.x lambda.y

在 Haskell 中，通常你会看到如`\x -> \y -> ...`这样的表达式，这是函数柯里化（Currying）的一个直接体现，其中每个`\`引入一个新的 lambda 表达式，这样的写法允许逐个应用函数的参数。每个`\`后面跟一个参数，然后是`->`和函数体，如果函数体中还有更多的 lambda 表达式，这个过程可以继续下去。这种写法在处理多个参数时提供了极大的灵活性。

### 为什么会有`\x -> \y -> ...`形式？

这种写法反映了 Haskell 中函数的柯里化特性。柯里化是指将接受多个参数的函数转换成接受单一参数的函数序列的过程。每个函数返回另一个函数，直到所有参数都被处理。因此，当你看到`\x -> \y -> ...`，你可以理解为首先定义了一个接受参数`x`的函数，这个函数返回了另一个接受参数`y`的函数，以此类推。

### 示例

考虑这个简单的例子：

```haskell
\x -> \y -> x + y
```

这是一个函数，它首先接受一个参数`x`，然后返回一个新的函数，
这个新函数接受另一个参数`y`，最终返回`x`和`y`的和。
这与`\x y -> x + y`在逻辑上是等价的，但是展现了函数参数的逐个应用。

### 实际应用

这种形式的 lambda 表达式在需要显式处理每个参数时非常有用，
比如在返回新函数作为结果或者在高阶函数中进行参数传递时。
它体现了 Haskell 中函数式编程的灵活性和表达力。

总结来说，`\x -> \y -> ...`和`\x y -> ...`在 Haskell 中都是有效的，
但它们强调了不同的方面：前者强调了柯里化和函数的逐步应用，后者则提供了一种更简洁的方式来定义接受多个参数的函数。
